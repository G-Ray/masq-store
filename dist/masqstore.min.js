!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).MasqStore=e()}}(function(){return function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(e){var r=t[a][1][e];return o(r||e)},f,f.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.deriveKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;0===e.length&&(e=n(t));var i=new Uint8Array("");return crypto.subtle.importKey("raw",u(e),"PBKDF2",!1,["deriveBits","deriveKey"]).then(function(e){return crypto.subtle.deriveBits({name:"PBKDF2",salt:i,iterations:r,hash:"sha-256"},e,128)},o).then(function(e){return new Uint8Array(e)},o)};var n=r.randomString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="";if(window.crypto&&window.crypto.getRandomValues){var n=new Uint32Array(e);window.crypto.getRandomValues(n);for(var o=0;o<e;o++)r+=t[n[o]%t.length]}else console.log("Your browser can't generate secure random numbers");return r},o=(r.encrypt=function(e,t,r){var n=window.crypto.getRandomValues(new Uint8Array(12));return function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"aes-gcm",i=arguments[4];return crypto.subtle.importKey("raw",t,{name:n},!0,["encrypt","decrypt"]).then(function(t){return crypto.subtle.encrypt({name:n,iv:r,additionalData:i},t,e).then(function(e){return new Uint8Array(e)},o)},o)}(u(t),e,n,"AES-GCM",u(r)).then(function(e){return{ciphertext:a(e),iv:a(n),version:r}},o)},r.decrypt=function(e,t){var r=i(t.ciphertext),n=u(t.version);return function(e,t,r,n,i){return crypto.subtle.importKey("raw",t,{name:n},!0,["encrypt","decrypt"]).then(function(t){return crypto.subtle.decrypt({name:n,iv:r,additionalData:i},t,e).then(function(e){return new Uint8Array(e)},o)},o)}(r,e,i(t.iv),"AES-GCM",n).then(function(e){return c(e)},o)},function(e){console.log(e)}),i=(r.getTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128;return e.slice(e.byteLength-(t+7>>3))},r.hexStringToBuffer=function(e){if(e.length%2!=0)throw new Error("Invalid hexString");for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2){var n=parseInt(e.substr(r,2),16);if(isNaN(n))throw new Error("Invalid hexString");t[r/2]=n}return t}),a=r.bufferToHexString=function(e){if(!e)return null;for(var t=[],r=0;r<e.length;++r){var n=e[r].toString(16);n.length<2&&(n="0"+n),t.push(n)}return t.join("")},u=r.toArray=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return new Uint8Array(t)},c=r.toString=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},{}],2:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.registerApp=r.syncApps=r.syncApp=r.init=void 0;var i=o(e("babel-runtime/regenerator")),a=o(e("babel-runtime/helpers/asyncToGenerator")),u=e("./store");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}})});var c=n(e("./sync")),s=n(u),f=(n(e("./permissions")),n(e("./crypto"))),l=n(e("./util")),d={},p=void 0,h="",v=["get","set","del","clear","getAll","setAll","user"],y=v,_=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];d.debug&&console.log("[Masq Store]",t)},b=(r.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d=e,_("Initializing Masq Store..."),s.ready().then(function(){void 0!==navigator.onLine?(window.addEventListener("online",function(){m(!0,e)}),window.addEventListener("offline",function(){m(!1,e)}),m(navigator.onLine,e)):b(e),window.addEventListener?window.addEventListener("message",g,!1):window.attachEvent("onmessage",g),window.parent.postMessage({"cross-storage":"listening"},"*"),_("Listening to clients...")}).catch(function(e){_(e);try{return void window.parent.postMessage({"cross-storage":"unavailable"},"*")}catch(e){return _(e),e}})},function e(t){if(p)try{p.close()}catch(e){}t||(t=d);var r=function(){_("..trying to reconnect"),setTimeout(function(){e(d)},3e3)};_("Initializing WebSocket with params:",t),c.initWSClient(t.syncserver,t.syncroom).then(function(e){p=e,t.cryptoKey&&(p.cryptoKey=f.hexStringToBuffer(t.cryptoKey)),p.onmessage=function(e){try{var t=JSON.parse(e.data);t.ciphertext&&p.cryptoKey?f.decrypt(p.cryptoKey,t).then(function(e){try{c.handleMessage(p,JSON.parse(e),h)}catch(e){console.log(e)}}).catch(function(e){console.log(e)}):c.handleMessage(p,t,h)}catch(e){_(e)}},p.onclose=function(e){_("WebSocket connection closed",e),!1!==e.wasClean&&1006!==e.code||r()},c.check(p,h),t.syncApps&&w()}).catch(function(e){_("Failed to initialize WebSocket.",e),r()})}),g=function(e){var t=void 0,r=void 0,n=void 0;t="null"===e.origin?"file://":e.origin;try{n=e.data}catch(e){return}if(n.client&&(h=n.client),"ready"!==n["cross-storage"])if("poll"!==n["cross-storage"])if("init"!==n["cross-storage"]){if(n&&"string"==typeof n.method){var o={client:h,result:{}};n.method?(n.updated=l.now(),o=s.prepareResponse(t,n,h).then(function(e){["set","setAll","del"].includes(n.method)&&s.getMeta(t).then(function(e){e.sync&&(n.updated=e.updated,c.push(p,t,n))}),r="file://"===t?"*":t,window.parent.postMessage(e,r)}).catch(function(e){_(e)})):(r="file://"===t?"*":t,window.parent.postMessage(o,r))}}else!function(e,t){console.log("Initializing app "+e),d.autoregister&&x(e),window.parent.postMessage({"cross-storage":"ready"},e)}(t,n.params);else window.parent.postMessage({"cross-storage":"ready"},e.origin)},m=function(e,t){t.syncserver=t.syncserver||"ws://localhost:8080",e||l.isLocal(t.syncserver)?b(t):(p&&p.close(),_("Working offline."))},w=(r.syncApp=function(e){e&&e.length>0&&c.checkOne(p,h,e)},r.syncApps=function(){c.syncApps(p)}),x=r.registerApp=function(){var e=(0,a.default)(i.default.mark(function e(t){var r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=15;break}return r=l.getOrigin(t),e.next=4,s.exists(r);case 4:if(e.sent){e.next=15;break}return e.next=7,s.setAll(r,{});case 7:return o.origin=r,o.permissions=o.permissions||y,e.next=11,s.setMeta(r,o);case 11:return n=e.sent,c.checkOne(p,h,r),_("Registered app:",r),e.abrupt("return",n);case 15:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},{"./crypto":1,"./permissions":3,"./store":4,"./sync":5,"./util":6,"babel-runtime/helpers/asyncToGenerator":10,"babel-runtime/regenerator":96}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setPermissions=r.getPermissions=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./store"));r.getPermissions=function(e){return n.getMeta(e).permissions||[]},r.setPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=n.getMeta(e);r.permissions=t,n.setMeta(e,r)}},{"./store":4}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.exists=r.importJSON=r.exportJSON=r.unregisterApp=r.metaList=r.appList=r.setMeta=r.getMeta=r.setAll=r.getAll=r.clearAll=r.clearMeta=r.clear=r.del=r.get=r.set=r.updateUser=r.user=r.prepareResponse=r.ready=r.USER=r.META=r.METAVERSION=r.STOREVERSION=void 0;var o=n(e("babel-runtime/regenerator")),i=n(e("babel-runtime/helpers/asyncToGenerator")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./util")),u=n(e("localforage")),c=r.STOREVERSION=1,s=r.METAVERSION=1,f=r.META="_meta",l=r.USER="_user",d=u.default.createInstance({driver:u.default.INDEXEDDB,name:"MasqStore",version:c}),p=u.default.createInstance({driver:u.default.INDEXEDDB,name:"MetaStore",version:s}),h=(r.ready=function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.ready();case 2:return e.abrupt("return",p.ready());case 3:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),r.prepareResponse=function(){var e=(0,i.default)(o.default.mark(function e(t,r,n){var i,a,u,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0,a=void 0,e.next=3,j(t);case 3:if(!e.sent){e.next=54;break}return e.next=6,x(t);case 6:u=e.sent,r.updated&&(u.updated=r.updated),e.prev=8,e.t0=r.method,e.next="user"===e.t0?12:"get"===e.t0?16:"set"===e.t0?20:"del"===e.t0?26:"clear"===e.t0?32:"getAll"===e.t0?36:"setAll"===e.t0?40:46;break;case 12:return e.next=14,h();case 14:return a=e.sent,e.abrupt("break",47);case 16:return e.next=18,y(t,r.params);case 18:return a=e.sent,e.abrupt("break",47);case 20:return e.next=22,v(t,r.params);case 22:return e.next=24,k(t,u);case 24:return a=e.sent,e.abrupt("break",47);case 26:return e.next=28,_(t,r.params);case 28:return e.next=30,k(t,u);case 30:return a=e.sent,e.abrupt("break",47);case 32:return e.next=34,b(t);case 34:return a=e.sent,e.abrupt("break",47);case 36:return e.next=38,m(t);case 38:return a=e.sent,e.abrupt("break",47);case 40:return e.next=42,w(t,r.params);case 42:return e.next=44,k(t,u);case 44:return a=e.sent,e.abrupt("break",47);case 46:return e.abrupt("break",47);case 47:e.next=52;break;case 49:e.prev=49,e.t1=e.catch(8),i=e.t1.message;case 52:e.next=55;break;case 54:i="UNREGISTERED";case 55:return c={client:r.client||n,error:i,result:a},e.abrupt("return",c);case 57:case"end":return e.stop()}},e,void 0,[[8,49]])}));return function(t,r,n){return e.apply(this,arguments)}}(),r.user=function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m(l));case 1:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()),v=(r.updateUser=function(){var e=(0,i.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w(l,t));case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),r.set=function(){var e=(0,i.default)(o.default.mark(function e(t,r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return n=e.sent,n[r.key]=r.value,e.abrupt("return",d.setItem(t,n));case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),y=r.get=function(){var e=(0,i.default)(o.default.mark(function e(t,r){var n,i,a,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0,i=void 0,a=void 0,i=[],e.next=4,m(t);case 4:for(n=e.sent,u=0;u<r.keys.length;u++){try{a=n[r.keys[u]]}catch(e){a=null}i.push(a)}return e.abrupt("return",i.length>1?i:i[0]);case 7:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),_=r.del=function(){var e=(0,i.default)(o.default.mark(function e(t,r){var n,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:for(n=e.sent,i=0;i<r.keys.length;i++)delete n[r.keys[i]];return e.abrupt("return",d.setItem(t,n));case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),b=r.clear=function(){var e=(0,i.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.removeItem(t));case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),g=r.clearMeta=function(){var e=(0,i.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t?f+"_"+t:f,e.abrupt("return",p.removeItem(t));case 2:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),m=(r.clearAll=function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.clear();case 2:return e.abrupt("return",d.clear());case 3:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),r.getAll=function(){var e=(0,i.default)(o.default.mark(function e(t,r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r||d,e.next=3,r.getItem(t);case 3:if((n=e.sent)&&0!==n.length){e.next=6;break}return e.abrupt("return",{});case 6:return e.prev=6,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(6),e.abrupt("return",{});case 13:case"end":return e.stop()}},e,void 0,[[6,10]])}));return function(t,r){return e.apply(this,arguments)}}()),w=r.setAll=function(){var e=(0,i.default)(o.default.mark(function e(t,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.setItem(t,r));case 1:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),x=r.getMeta=function(){var e=(0,i.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t?f+"_"+t:f,e.abrupt("return",m(t,p));case 2:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),k=r.setMeta=function(){var e=(0,i.default)(o.default.mark(function e(t,r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("Missing origin when trying to set meta data."),e.abrupt("return");case 3:if(r.origin||(r.origin=t),t===f?t=f:t.startsWith(f)||(t=f+"_"+t),!r.updated){e.next=12;break}return e.next=8,x();case 8:return n=e.sent,n.updated=r.updated,e.next=12,p.setItem(f,n);case 12:return e.abrupt("return",p.setItem(t,r));case 13:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),j=(r.appList=function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.keys().then(function(e){return e}).catch(function(e){console.log(e)}));case 1:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),r.metaList=function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.keys().then(function(e){return e.filter(function(e,t,r){return e!==f})}).catch(function(e){console.log(e)}));case 1:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),r.unregisterApp=function(){var e=(0,i.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b(t);case 4:return e.abrupt("return",g(t));case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),r.exportJSON=function(){var e=(0,i.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.abrupt("return",d.iterate(function(e,r){t[r]=e}).then(function(e){return t}).catch(function(e){console.log(e)}));case 2:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),r.importJSON=function(){var e=(0,i.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!a.isEmpty(t)){e.next=2;break}return e.abrupt("return");case 2:e.t0=o.default.keys(t);case 3:if((e.t1=e.t0()).done){e.next=10;break}if(r=e.t1.value,!t.hasOwnProperty(r)){e.next=8;break}return e.next=8,w(r,t[r]);case 8:e.next=3;break;case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),r.exists=function(){var e=(0,i.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getItem(t);case 2:return r=e.sent,e.abrupt("return",null!==r&&void 0!==r);case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}())},{"./util":6,"babel-runtime/helpers/asyncToGenerator":10,"babel-runtime/regenerator":96,localforage:97}],5:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.syncApps=r.checkOne=r.check=r.push=r.handleMessage=void 0;var i=o(e("babel-runtime/regenerator")),a=o(e("babel-runtime/helpers/asyncToGenerator"));r.initWSClient=function(e,t){return new Promise(function(r,n){if(!e||!t)return n(new Error("No WebSocket server or room provided."));var o=void 0!==window.URL?new window.URL(t,e):e+t,i=new window.WebSocket(o);i.onopen=function(){return console.log("Connected to Sync server at "+o),r(i)},i.onerror=function(e){var t=new Error("Could not connect to Sync server at "+o);return n(t)}})};var u=n(e("./util")),c=n(e("./store")),s=n(e("./crypto")),f=(r.handleMessage=function(e,t,r){switch(t.type){case"sync":f(t,r);break;case"check":l(t,e,r);break;case"import":d(t,e,r);break;case"export":p(t,e,r)}},r.push=function(e,t,r){if(e&&0!==t.length&&0!==Object.keys(r.params).length){var n={type:"sync",origin:t,request:r};e.readyState===e.OPEN&&v(e,n)}},function(){var e=(0,a.default)(i.default.mark(function e(t,r){var n,o,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.origin){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,c.getMeta(t.origin);case 4:if(n=e.sent,!u.inTheFuture(t.request.updated)){e.next=7;break}return e.abrupt("return");case 7:if(!(u.isEmpty(n)||n.updated>t.request.updated)&&n.sync){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,c.prepareResponse(t.origin,t.request,r);case 11:t.client=t.request.client||r,t.sync=!0,o=new window.CustomEvent("sync",{detail:t}),window.dispatchEvent(o),window.self!==window.top&&(a="file://"===t.origin?"*":t.origin,window.parent.postMessage(t,a));case 16:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),l=function(){var e=(0,a.default)(i.default.mark(function e(t,r){var n,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.exists(t.origin);case 2:if(e.t1=e.sent,!e.t1){e.next=5;break}e.t1=void 0!==t.updated;case 5:if(e.t0=e.t1,!e.t0){e.next=8;break}e.t0=!u.inTheFuture(t.updated);case 8:if(!e.t0){e.next=26;break}return e.next=11,c.getMeta(t.origin);case 11:if(n=e.sent,!(t.updated>n.updated)){e.next=16;break}h(r,a),e.next=26;break;case 16:if(!(n.updated>0&&t.updated<n.updated)){e.next=26;break}return e.t2=t.client,e.t3=t.origin,e.t4=n.updated,e.next=22,c.getAll(t.origin);case 22:e.t5=e.sent,e.t6={method:"setAll",updated:e.t4,params:e.t5},o={type:"sync",client:e.t2,origin:e.t3,request:e.t6},v(r,o);case 26:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.default)(i.default.mark(function e(t,r){var n,o,a,u,s,f,l,d,p,h;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.appList();case 2:if(0!==(n=e.sent).length){e.next=5;break}return e.abrupt("return");case 5:o=[],a=!0,u=!1,s=void 0,e.prev=9,f=n[Symbol.iterator]();case 11:if(a=(l=f.next()).done){e.next=22;break}return d=l.value,p={},p.key=d,e.next=17,c.getMeta(d);case 17:p.data=e.sent,p.data.sync&&(delete p.data.updated,p.data.sync=!1,o.push(p));case 19:a=!0,e.next=11;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(9),u=!0,s=e.t0;case 28:e.prev=28,e.prev=29,!a&&f.return&&f.return();case 31:if(e.prev=31,!u){e.next=34;break}throw s;case 34:return e.finish(31);case 35:return e.finish(28);case 36:h={type:"export",client:t.client,origin:t.origin,list:o},v(r,h);case 38:case"end":return e.stop()}},e,void 0,[[9,24,28,36],[29,,31,35]])}));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.default)(i.default.mark(function e(t,r){var n,o,a,u,s,f,l;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.list&&Array.isArray(t.list)){e.next=2;break}return e.abrupt("return");case 2:n=!0,o=!1,a=void 0,e.prev=5,u=t.list[Symbol.iterator]();case 7:if(n=(s=u.next()).done){e.next=21;break}return f=s.value,e.next=11,c.exists(f.key);case 11:if(e.sent){e.next=18;break}return e.next=14,c.setMeta(f.key,f.data);case 14:return e.next=16,c.setAll(f.data.origin,{});case 16:l=new window.CustomEvent("syncapp",{detail:f.data}),window.dispatchEvent(l);case 18:n=!0,e.next=7;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),o=!0,a=e.t0;case 27:e.prev=27,e.prev=28,!n&&u.return&&u.return();case 30:if(e.prev=30,!o){e.next=33;break}throw a;case 33:return e.finish(30);case 34:return e.finish(27);case 35:case"end":return e.stop()}},e,void 0,[[5,23,27,35],[28,,30,34]])}));return function(t,r){return e.apply(this,arguments)}}(),h=r.check=function(){var e=(0,a.default)(i.default.mark(function e(t){var r,n,o,a,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments[2];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(e.t0=s,e.t0){e.next=7;break}return e.next=6,c.appList();case 6:e.t0=e.sent;case 7:if(0!==(r=e.t0).length){e.next=10;break}return e.abrupt("return");case 10:n=0;case 11:if(!(n<r.length)){e.next=19;break}return e.next=14,c.getMeta(r[n]);case 14:(o=e.sent).sync&&(o.updated=o.updated||0,a={type:"check",client:u,origin:o.origin,updated:o.updated},v(t,a));case 16:n++,e.next=11;break;case 19:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),v=(r.checkOne=function(){var e=(0,a.default)(i.default.mark(function e(t){var r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments[2];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,c.getMeta(a);case 4:(r=e.sent).updated=r.updated||0,n={type:"check",client:o,origin:r.origin,updated:r.updated},v(t,n);case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),r.syncApps=function(e){if(e){v(e,{type:"import"})}},function(e,t){e.cryptoKey?s.encrypt(e.cryptoKey,JSON.stringify(t),"").then(function(t){e.send(JSON.stringify(t))}):e.send(JSON.stringify(t))})},{"./crypto":1,"./store":4,"./util":6,"babel-runtime/helpers/asyncToGenerator":10,"babel-runtime/regenerator":96}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.dataToImg=r.isLocal=r.getOrigin=r.isObject=r.isEmpty=r.inTheFuture=r.now=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/helpers/typeof")),o=r.now=function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()};r.inTheFuture=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)>o()+6e4},r.isEmpty=function(e){return 0===Object.keys(e).length},r.isObject=function(e){return"object"===(void 0===e?"undefined":(0,n.default)(e))},r.getOrigin=function(e){var t=void 0,r=void 0,n=void 0;return t=document.createElement("a"),t.href=e,t.host||(t=window.location),r=t.protocol&&":"!==t.protocol?t.protocol:window.location.protocol,n=r+"//"+t.host,n=n.replace(/:80$|:443$/,"")},r.isLocal=function(e){if(!e||0===e.length)return!1;for(var t=[/^(https?:\/\/|wss?:\/\/)?localhost+(:[0-9]*)?/,/^(https?:\/\/|wss?:\/\/)?127\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))+(:[0-9]*)?/,/^(https?:\/\/|wss?:\/\/)?10\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))+(:[0-9]*)?/,/^(https?:\/\/|wss?:\/\/)?172\.(1[89]|2[0-9]|3[01])\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))+(:[0-9]*)?/,/^(https?:\/\/|wss?:\/\/)?192\.168\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))+(:[0-9]*)?/,/^(https?:\/\/|wss?:\/\/)?169\.254\.([1-9]|[1-9]\d|1\d\d|2([0-4]\d|5[0-4]))\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))+(:[0-9]*)?/],r=0;r<t.length;r++){var n=t[r];if(n instanceof RegExp&&n.test(e))return!0}return!1},r.dataToImg=function(e){var t=e.split(",")[1],r=void 0;r=e.split(",")[0].indexOf("base64")>=0?atob(t):decodeURI(t);for(var n=new ArrayBuffer(r.length),o=new Uint8Array(n),i=0;i<r.length;i++)o[i]=r.charCodeAt(i);return new Blob([o],{type:$scope.imageType})}},{"babel-runtime/helpers/typeof":11}],7:[function(e,t,r){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":12}],8:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":13}],9:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":14}],10:[function(e,t,r){"use strict";r.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(e("../core-js/promise"));r.default=function(e){return function(){var t=e.apply(this,arguments);return new n.default(function(e,r){function o(i,a){try{var u=t[i](a),c=u.value}catch(e){return void r(e)}if(!u.done)return n.default.resolve(c).then(function(e){o("next",e)},function(e){o("throw",e)});e(c)}return o("next")})}}},{"../core-js/promise":7}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var o=n(e("../core-js/symbol/iterator")),i=n(e("../core-js/symbol")),a="function"==typeof i.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};r.default="function"==typeof i.default&&"symbol"===a(o.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},{"../core-js/symbol":8,"../core-js/symbol/iterator":9}],12:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),e("../modules/es7.promise.finally"),e("../modules/es7.promise.try"),t.exports=e("../modules/_core").Promise},{"../modules/_core":22,"../modules/es6.object.to-string":87,"../modules/es6.promise":88,"../modules/es6.string.iterator":89,"../modules/es7.promise.finally":91,"../modules/es7.promise.try":92,"../modules/web.dom.iterable":95}],13:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":22,"../../modules/es6.object.to-string":87,"../../modules/es6.symbol":90,"../../modules/es7.symbol.async-iterator":93,"../../modules/es7.symbol.observable":94}],14:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":83,"../../modules/es6.string.iterator":89,"../../modules/web.dom.iterable":95}],15:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],16:[function(e,t,r){t.exports=function(){}},{}],17:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],18:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":41}],19:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,r,a){var u,c=n(t),s=o(c.length),f=i(a,s);if(e&&r!=r){for(;s>f;)if((u=c[f++])!=u)return!0}else for(;s>f;f++)if((e||f in c)&&c[f]===r)return e||f||0;return!e&&-1}}},{"./_to-absolute-index":75,"./_to-iobject":77,"./_to-length":78}],20:[function(e,t,r){var n=e("./_cof"),o=e("./_wks")("toStringTag"),i="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},{"./_cof":21,"./_wks":84}],21:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],22:[function(e,t,r){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},{}],23:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":15}],24:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],25:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":30}],26:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":32,"./_is-object":41}],27:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],28:[function(e,t,r){var n=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,u=r(e),c=i.f,s=0;u.length>s;)c.call(e,a=u[s++])&&t.push(a);return t}},{"./_object-gops":58,"./_object-keys":61,"./_object-pie":62}],29:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_ctx"),a=e("./_hide"),u=function(e,t,r){var c,s,f,l=e&u.F,d=e&u.G,p=e&u.S,h=e&u.P,v=e&u.B,y=e&u.W,_=d?o:o[t]||(o[t]={}),b=_.prototype,g=d?n:p?n[t]:(n[t]||{}).prototype;d&&(r=t);for(c in r)(s=!l&&g&&void 0!==g[c])&&c in _||(f=s?g[c]:r[c],_[c]=d&&"function"!=typeof g[c]?r[c]:v&&s?i(f,n):y&&g[c]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((_.virtual||(_.virtual={}))[c]=f,e&u.R&&b&&!b[c]&&a(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":22,"./_ctx":23,"./_global":32,"./_hide":34}],30:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],31:[function(e,t,r){var n=e("./_ctx"),o=e("./_iter-call"),i=e("./_is-array-iter"),a=e("./_an-object"),u=e("./_to-length"),c=e("./core.get-iterator-method"),s={},f={};(r=t.exports=function(e,t,r,l,d){var p,h,v,y,_=d?function(){return e}:c(e),b=n(r,l,t?2:1),g=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(i(_)){for(p=u(e.length);p>g;g++)if((y=t?b(a(h=e[g])[0],h[1]):b(e[g]))===s||y===f)return y}else for(v=_.call(e);!(h=v.next()).done;)if((y=o(v,b,h.value,t))===s||y===f)return y}).BREAK=s,r.RETURN=f},{"./_an-object":18,"./_ctx":23,"./_is-array-iter":39,"./_iter-call":42,"./_to-length":78,"./core.get-iterator-method":85}],32:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],33:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],34:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":25,"./_object-dp":53,"./_property-desc":65}],35:[function(e,t,r){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":32}],36:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":25,"./_dom-create":26,"./_fails":30}],37:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],38:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":21}],39:[function(e,t,r){var n=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},{"./_iterators":47,"./_wks":84}],40:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":21}],41:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],42:[function(e,t,r){var n=e("./_an-object");t.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},{"./_an-object":18}],43:[function(e,t,r){"use strict";var n=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},{"./_hide":34,"./_object-create":52,"./_property-desc":65,"./_set-to-string-tag":69,"./_wks":84}],44:[function(e,t,r){"use strict";var n=e("./_library"),o=e("./_export"),i=e("./_redefine"),a=e("./_hide"),u=e("./_has"),c=e("./_iterators"),s=e("./_iter-create"),f=e("./_set-to-string-tag"),l=e("./_object-gpo"),d=e("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(e,t,r,v,y,_,b){s(r,t,v);var g,m,w,x=function(e){if(!p&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},k=t+" Iterator",j="values"==y,S=!1,E=e.prototype,O=E[d]||E["@@iterator"]||y&&E[y],I=O||x(y),A=y?j?x("entries"):I:void 0,M="Array"==t?E.entries||O:O;if(M&&(w=l(M.call(new e)))!==Object.prototype&&w.next&&(f(w,k,!0),n||u(w,d)||a(w,d,h)),j&&O&&"values"!==O.name&&(S=!0,I=function(){return O.call(this)}),n&&!b||!p&&!S&&E[d]||a(E,d,I),c[t]=I,c[k]=h,y)if(g={values:j?I:x("values"),keys:_?I:x("keys"),entries:A},b)for(m in g)m in E||i(E,m,g[m]);else o(o.P+o.F*(p||S),t,g);return g}},{"./_export":29,"./_has":33,"./_hide":34,"./_iter-create":43,"./_iterators":47,"./_library":48,"./_object-gpo":59,"./_redefine":67,"./_set-to-string-tag":69,"./_wks":84}],45:[function(e,t,r){var n=e("./_wks")("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},e(i)}catch(e){}return r}},{"./_wks":84}],46:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],47:[function(e,t,r){t.exports={}},{}],48:[function(e,t,r){t.exports=!0},{}],49:[function(e,t,r){var n=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),a=e("./_object-dp").f,u=0,c=Object.isExtensible||function(){return!0},s=!e("./_fails")(function(){return c(Object.preventExtensions({}))}),f=function(e){a(e,n,{value:{i:"O"+ ++u,w:{}}})},l=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!c(e))return"F";if(!t)return"E";f(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!c(e))return!0;if(!t)return!1;f(e)}return e[n].w},onFreeze:function(e){return s&&l.NEED&&c(e)&&!i(e,n)&&f(e),e}}},{"./_fails":30,"./_has":33,"./_is-object":41,"./_object-dp":53,"./_uid":81}],50:[function(e,t,r){var n=e("./_global"),o=e("./_task").set,i=n.MutationObserver||n.WebKitMutationObserver,a=n.process,u=n.Promise,c="process"==e("./_cof")(a);t.exports=function(){var e,t,r,s=function(){var n,o;for(c&&(n=a.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(c)r=function(){a.nextTick(s)};else if(i){var f=!0,l=document.createTextNode("");new i(s).observe(l,{characterData:!0}),r=function(){l.data=f=!f}}else if(u&&u.resolve){var d=u.resolve();r=function(){d.then(s)}}else r=function(){o.call(n,s)};return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},{"./_cof":21,"./_global":32,"./_task":74}],51:[function(e,t,r){"use strict";var n=e("./_a-function");t.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},{"./_a-function":15}],52:[function(e,t,r){var n=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),u=function(){},c=function(){var t,r=e("./_dom-create")("iframe"),n=i.length;for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[i[n]];return c()};t.exports=Object.create||function(e,t){var r;return null!==e?(u.prototype=n(e),r=new u,u.prototype=null,r[a]=e):r=c(),void 0===t?r:o(r,t)}},{"./_an-object":18,"./_dom-create":26,"./_enum-bug-keys":27,"./_html":35,"./_object-dps":54,"./_shared-key":70}],53:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),a=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":18,"./_descriptors":25,"./_ie8-dom-define":36,"./_to-primitive":80}],54:[function(e,t,r){var n=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),u=a.length,c=0;u>c;)n.f(e,r=a[c++],t[r]);return e}},{"./_an-object":18,"./_descriptors":25,"./_object-dp":53,"./_object-keys":61}],55:[function(e,t,r){var n=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),a=e("./_to-primitive"),u=e("./_has"),c=e("./_ie8-dom-define"),s=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?s:function(e,t){if(e=i(e),t=a(t,!0),c)try{return s(e,t)}catch(e){}if(u(e,t))return o(!n.f.call(e,t),e[t])}},{"./_descriptors":25,"./_has":33,"./_ie8-dom-define":36,"./_object-pie":62,"./_property-desc":65,"./_to-iobject":77,"./_to-primitive":80}],56:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},{"./_object-gopn":57,"./_to-iobject":77}],57:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},{"./_enum-bug-keys":27,"./_object-keys-internal":60}],58:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],59:[function(e,t,r){var n=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":33,"./_shared-key":70,"./_to-object":79}],60:[function(e,t,r){var n=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,u=o(e),c=0,s=[];for(r in u)r!=a&&n(u,r)&&s.push(r);for(;t.length>c;)n(u,r=t[c++])&&(~i(s,r)||s.push(r));return s}},{"./_array-includes":19,"./_has":33,"./_shared-key":70,"./_to-iobject":77}],61:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,o)}},{"./_enum-bug-keys":27,"./_object-keys-internal":60}],62:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],63:[function(e,t,r){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],64:[function(e,t,r){var n=e("./_an-object"),o=e("./_is-object"),i=e("./_new-promise-capability");t.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},{"./_an-object":18,"./_is-object":41,"./_new-promise-capability":51}],65:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],66:[function(e,t,r){var n=e("./_hide");t.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},{"./_hide":34}],67:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":34}],68:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_core"),i=e("./_object-dp"),a=e("./_descriptors"),u=e("./_wks")("species");t.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];a&&t&&!t[u]&&i.f(t,u,{configurable:!0,get:function(){return this}})}},{"./_core":22,"./_descriptors":25,"./_global":32,"./_object-dp":53,"./_wks":84}],69:[function(e,t,r){var n=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./_has":33,"./_object-dp":53,"./_wks":84}],70:[function(e,t,r){var n=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return n[e]||(n[e]=o(e))}},{"./_shared":71,"./_uid":81}],71:[function(e,t,r){var n=e("./_global"),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./_global":32}],72:[function(e,t,r){var n=e("./_an-object"),o=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[i])?t:o(r)}},{"./_a-function":15,"./_an-object":18,"./_wks":84}],73:[function(e,t,r){var n=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,r){var i,a,u=String(o(t)),c=n(r),s=u.length;return c<0||c>=s?e?"":void 0:(i=u.charCodeAt(c))<55296||i>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?e?u.charAt(c):i:e?u.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},{"./_defined":24,"./_to-integer":76}],74:[function(e,t,r){var n,o,i,a=e("./_ctx"),u=e("./_invoke"),c=e("./_html"),s=e("./_dom-create"),f=e("./_global"),l=f.process,d=f.setImmediate,p=f.clearImmediate,h=f.MessageChannel,v=f.Dispatch,y=0,_={},b=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},g=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++y]=function(){u("function"==typeof e?e:Function(e),t)},n(y),y},p=function(e){delete _[e]},"process"==e("./_cof")(l)?n=function(e){l.nextTick(a(b,e,1))}:v&&v.now?n=function(e){v.now(a(b,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=g,n=a(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(e){f.postMessage(e+"","*")},f.addEventListener("message",g,!1)):n="onreadystatechange"in s("script")?function(e){c.appendChild(s("script")).onreadystatechange=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),t.exports={set:d,clear:p}},{"./_cof":21,"./_ctx":23,"./_dom-create":26,"./_global":32,"./_html":35,"./_invoke":37}],75:[function(e,t,r){var n=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},{"./_to-integer":76}],76:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],77:[function(e,t,r){var n=e("./_iobject"),o=e("./_defined");t.exports=function(e){return n(o(e))}},{"./_defined":24,"./_iobject":38}],78:[function(e,t,r){var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":76}],79:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":24}],80:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":41}],81:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],82:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_library"),a=e("./_wks-ext"),u=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},{"./_core":22,"./_global":32,"./_library":48,"./_object-dp":53,"./_wks-ext":83}],83:[function(e,t,r){r.f=e("./_wks")},{"./_wks":84}],84:[function(e,t,r){var n=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,a="function"==typeof i;(t.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},{"./_global":32,"./_shared":71,"./_uid":81}],85:[function(e,t,r){var n=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},{"./_classof":20,"./_core":22,"./_iterators":47,"./_wks":84}],86:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":16,"./_iter-define":44,"./_iter-step":46,"./_iterators":47,"./_to-iobject":77}],87:[function(e,t,r){},{}],88:[function(e,t,r){"use strict";var n,o,i,a,u=e("./_library"),c=e("./_global"),s=e("./_ctx"),f=e("./_classof"),l=e("./_export"),d=e("./_is-object"),p=e("./_a-function"),h=e("./_an-instance"),v=e("./_for-of"),y=e("./_species-constructor"),_=e("./_task").set,b=e("./_microtask")(),g=e("./_new-promise-capability"),m=e("./_perform"),w=e("./_promise-resolve"),x=c.TypeError,k=c.process,j=c.Promise,S="process"==f(k),E=function(){},O=o=g.f,I=!!function(){try{var t=j.resolve(1),r=(t.constructor={})[e("./_wks")("species")]=function(e){e(E,E)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof r}catch(e){}}(),A=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var r=e._c;b(function(){for(var n=e._v,o=1==e._s,i=0,a=function(t){var r,i,a=o?t.ok:t.fail,u=t.resolve,c=t.reject,s=t.domain;try{a?(o||(2==e._h&&T(e),e._h=1),!0===a?r=n:(s&&s.enter(),r=a(n),s&&s.exit()),r===t.promise?c(x("Promise-chain cycle")):(i=A(r))?i.call(r,u,c):u(r)):c(n)}catch(e){c(e)}};r.length>i;)a(r[i++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){_.call(c,function(){var t,r,n,o=e._v,i=P(e);if(i&&(t=m(function(){S?k.emit("unhandledRejection",o,e):(r=c.onunhandledrejection)?r({promise:e,reason:o}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=S||P(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},P=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if((t=r[n++]).fail||!P(t.promise))return!1;return!0},T=function(e){_.call(c,function(){var t;S?k.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},R=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw x("Promise can't be resolved itself");(t=A(e))?b(function(){var n={_w:r,_d:!1};try{t.call(e,s(R,n,1),s(N,n,1))}catch(e){N.call(n,e)}}):(r._v=e,r._s=1,M(r,!1))}catch(e){N.call({_w:r,_d:!1},e)}}};I||(j=function(e){h(this,j,"Promise","_h"),p(e),n.call(this);try{e(s(R,this,1),s(N,this,1))}catch(e){N.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e("./_redefine-all")(j.prototype,{then:function(e,t){var r=O(y(this,j));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=S?k.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&M(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=s(R,e,1),this.reject=s(N,e,1)},g.f=O=function(e){return e===j||e===a?new i(e):o(e)}),l(l.G+l.W+l.F*!I,{Promise:j}),e("./_set-to-string-tag")(j,"Promise"),e("./_set-species")("Promise"),a=e("./_core").Promise,l(l.S+l.F*!I,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(u||!I),"Promise",{resolve:function(e){return w(u&&this===a?j:this,e)}}),l(l.S+l.F*!(I&&e("./_iter-detect")(function(e){j.all(e).catch(E)})),"Promise",{all:function(e){var t=this,r=O(t),n=r.resolve,o=r.reject,i=m(function(){var r=[],i=0,a=1;v(e,!1,function(e){var u=i++,c=!1;r.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,r[u]=e,--a||n(r))},o)}),--a||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=O(t),n=r.reject,o=m(function(){v(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},{"./_a-function":15,"./_an-instance":17,"./_classof":20,"./_core":22,"./_ctx":23,"./_export":29,"./_for-of":31,"./_global":32,"./_is-object":41,"./_iter-detect":45,"./_library":48,"./_microtask":50,"./_new-promise-capability":51,"./_perform":63,"./_promise-resolve":64,"./_redefine-all":66,"./_set-species":68,"./_set-to-string-tag":69,"./_species-constructor":72,"./_task":74,"./_wks":84}],89:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":44,"./_string-at":73}],90:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_descriptors"),a=e("./_export"),u=e("./_redefine"),c=e("./_meta").KEY,s=e("./_fails"),f=e("./_shared"),l=e("./_set-to-string-tag"),d=e("./_uid"),p=e("./_wks"),h=e("./_wks-ext"),v=e("./_wks-define"),y=e("./_enum-keys"),_=e("./_is-array"),b=e("./_an-object"),g=e("./_to-iobject"),m=e("./_to-primitive"),w=e("./_property-desc"),x=e("./_object-create"),k=e("./_object-gopn-ext"),j=e("./_object-gopd"),S=e("./_object-dp"),E=e("./_object-keys"),O=j.f,I=S.f,A=k.f,M=n.Symbol,L=n.JSON,P=L&&L.stringify,T=p("_hidden"),N=p("toPrimitive"),R={}.propertyIsEnumerable,D=f("symbol-registry"),C=f("symbols"),F=f("op-symbols"),B=Object.prototype,U="function"==typeof M,q=n.QObject,G=!q||!q.prototype||!q.prototype.findChild,z=i&&s(function(){return 7!=x(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=O(B,t);n&&delete B[t],I(e,t,r),n&&e!==B&&I(B,t,n)}:I,W=function(e){var t=C[e]=x(M.prototype);return t._k=e,t},K=U&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},V=function(e,t,r){return e===B&&V(F,t,r),b(e),t=m(t,!0),b(r),o(C,t)?(r.enumerable?(o(e,T)&&e[T][t]&&(e[T][t]=!1),r=x(r,{enumerable:w(0,!1)})):(o(e,T)||I(e,T,w(1,{})),e[T][t]=!0),z(e,t,r)):I(e,t,r)},J=function(e,t){b(e);for(var r,n=y(t=g(t)),o=0,i=n.length;i>o;)V(e,r=n[o++],t[r]);return e},H=function(e){var t=R.call(this,e=m(e,!0));return!(this===B&&o(C,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(C,e)||o(this,T)&&this[T][e])||t)},Q=function(e,t){if(e=g(e),t=m(t,!0),e!==B||!o(C,t)||o(F,t)){var r=O(e,t);return!r||!o(C,t)||o(e,T)&&e[T][t]||(r.enumerable=!0),r}},Y=function(e){for(var t,r=A(g(e)),n=[],i=0;r.length>i;)o(C,t=r[i++])||t==T||t==c||n.push(t);return n},X=function(e){for(var t,r=e===B,n=A(r?F:g(e)),i=[],a=0;n.length>a;)!o(C,t=n[a++])||r&&!o(B,t)||i.push(C[t]);return i};U||(u((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===B&&t.call(F,r),o(this,T)&&o(this[T],e)&&(this[T][e]=!1),z(this,e,w(1,r))};return i&&G&&z(B,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",function(){return this._k}),j.f=Q,S.f=V,e("./_object-gopn").f=k.f=Y,e("./_object-pie").f=H,e("./_object-gops").f=X,i&&!e("./_library")&&u(B,"propertyIsEnumerable",H,!0),h.f=function(e){return W(p(e))}),a(a.G+a.W+a.F*!U,{Symbol:M});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Z=0;$.length>Z;)p($[Z++]);for(var ee=E(p.store),te=0;ee.length>te;)v(ee[te++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return o(D,e+="")?D[e]:D[e]=M(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in D)if(D[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?x(e):J(x(e),t)},defineProperty:V,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Y,getOwnPropertySymbols:X}),L&&a(a.S+a.F*(!U||s(function(){var e=M();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!K(e)){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return"function"==typeof(t=n[1])&&(r=t),!r&&_(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!K(t))return t}),n[1]=t,P.apply(L,n)}}}),M.prototype[N]||e("./_hide")(M.prototype,N,M.prototype.valueOf),l(M,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},{"./_an-object":18,"./_descriptors":25,"./_enum-keys":28,"./_export":29,"./_fails":30,"./_global":32,"./_has":33,"./_hide":34,"./_is-array":40,"./_library":48,"./_meta":49,"./_object-create":52,"./_object-dp":53,"./_object-gopd":55,"./_object-gopn":57,"./_object-gopn-ext":56,"./_object-gops":58,"./_object-keys":61,"./_object-pie":62,"./_property-desc":65,"./_redefine":67,"./_set-to-string-tag":69,"./_shared":71,"./_to-iobject":77,"./_to-primitive":80,"./_uid":81,"./_wks":84,"./_wks-define":82,"./_wks-ext":83}],91:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_core"),i=e("./_global"),a=e("./_species-constructor"),u=e("./_promise-resolve");n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return u(t,e()).then(function(){return r})}:e,r?function(r){return u(t,e()).then(function(){throw r})}:e)}})},{"./_core":22,"./_export":29,"./_global":32,"./_promise-resolve":64,"./_species-constructor":72}],92:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_new-promise-capability"),i=e("./_perform");n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},{"./_export":29,"./_new-promise-capability":51,"./_perform":63}],93:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":82}],94:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":82}],95:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),o=e("./_hide"),i=e("./_iterators"),a=e("./_wks")("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<u.length;c++){var s=u[c],f=n[s],l=f&&f.prototype;l&&!l[a]&&o(l,a,s),i[s]=i.Array}},{"./_global":32,"./_hide":34,"./_iterators":47,"./_wks":84,"./es6.array.iterator":86}],96:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":98}],97:[function(e,t,r){(function(n){!function(e){if("object"==typeof r&&void 0!==t)t.exports=e();else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).localforage=e()}}(function(){return function t(r,n,o){function i(u,c){if(!n[u]){if(!r[u]){var s="function"==typeof e&&e;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[u]={exports:{}};r[u][0].call(l.exports,function(e){var t=r[u][1][e];return i(t||e)},l,l.exports,t,r,n,o)}return n[u].exports}for(var a="function"==typeof e&&e,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(e,t,r){(function(e){"use strict";function r(){s=!0;for(var e,t,r=f.length;r;){for(t=f,f=[],e=-1;++e<r;)t[e]();r=f.length}s=!1}var n,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(r),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),n=function(){u.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){r(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(r,0)};else{var c=new e.MessageChannel;c.port1.onmessage=r,n=function(){c.port2.postMessage(0)}}var s,f=[];t.exports=function(e){1!==f.push(e)||s||n()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";function n(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,e!==n&&c(this,e)}function i(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function a(e,t,r){f(function(){var n;try{n=t(r)}catch(t){return l.reject(e,t)}n===e?l.reject(e,new TypeError("Cannot resolve promise with itself")):l.resolve(e,n)})}function u(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function r(t){o||(o=!0,l.reject(e,t))}function n(t){o||(o=!0,l.resolve(e,t))}var o=!1,i=s(function(){t(n,r)});"error"===i.status&&r(i.value)}function s(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}var f=e(1),l={},d=["REJECTED"],p=["FULFILLED"],h=["PENDING"];t.exports=r=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===p||"function"!=typeof t&&this.state===d)return this;var r=new this.constructor(n);if(this.state!==h){a(r,this.state===p?e:t,this.outcome)}else this.queue.push(new i(r,e,t));return r},i.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){l.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=s(u,t);if("error"===r.status)return l.reject(e,r.value);var n=r.value;if(n)c(e,n);else{e.state=p,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},l.reject=function(e,t){e.state=d,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},r.resolve=function(e){return e instanceof this?e:l.resolve(new this(n),e)},r.reject=function(e){var t=new this(n);return l.reject(t,e)},r.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var i=new Array(r),a=0,u=-1,c=new this(n);++u<r;)!function(e,n){t.resolve(e).then(function(e){i[n]=e,++a!==r||o||(o=!0,l.resolve(c,i))},function(e){o||(o=!0,l.reject(c,e))})}(e[u],u);return c},r.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var i=-1,a=new this(n);++i<r;)!function(e){t.resolve(e).then(function(e){o||(o=!0,l.resolve(a,e))},function(e){o||(o=!0,l.reject(a,e))})}(e[i]);return a}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";function n(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}function o(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function i(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function a(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(e){return"boolean"==typeof k?S.resolve(k):function(e){return new S(function(t){var r=e.transaction(E,A),o=n([""]);r.objectStore(E).put(o,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return k=e})}function c(e){var t=j[e.name],r={};r.promise=new S(function(e){r.resolve=e}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function s(e,t){return new S(function(r,n){if(e.db){if(!t)return r(e.db);c(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=x.open.apply(x,o);t&&(i.onupgradeneeded=function(t){var r=i.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(E)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),n(i.error)},i.onsuccess=function(){r(i.result),function(e){var t=j[e.name].deferredOperations.pop();t&&t.resolve()}(e)}})}function f(e){return n([function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}(atob(e.data))],{type:e.type})}function l(e){return e&&e.__local_forage_encoded_blob}function d(e){var t=this,r=t._initReady().then(function(){var e=j[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return i(r,e,e),r}function p(e){c(e);for(var t=j[e.name].forages,r=0;r<t.length;r++)t[r]._dbInfo.db&&(t[r]._dbInfo.db.close(),t[r]._dbInfo.db=null);return s(e,!1).then(function(e){for(var r=0;r<t.length;r++)t[r]._dbInfo.db=e}).catch(function(t){throw function(e,t){var r=j[e.name].deferredOperations.pop();r&&r.reject(t)}(e,t),t})}function h(e,t,r){try{var n=e.db.transaction(e.storeName,t);r(null,n)}catch(n){if(!e.db||"InvalidStateError"===n.name)return p(e).then(function(){var n=e.db.transaction(e.storeName,t);r(null,n)});r(n)}}function v(e){var t,r,n,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var s=new ArrayBuffer(a),f=new Uint8Array(s);for(t=0;t<u;t+=4)r=L.indexOf(e[t]),n=L.indexOf(e[t+1]),o=L.indexOf(e[t+2]),i=L.indexOf(e[t+3]),f[c++]=r<<2|n>>4,f[c++]=(15&n)<<4|o>>2,f[c++]=(3&o)<<6|63&i;return s}function y(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=L[r[t]>>2],n+=L[(3&r[t])<<4|r[t+1]>>4],n+=L[(15&r[t+1])<<2|r[t+2]>>6],n+=L[63&r[t+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function _(e,t,r,n){var i=this;e=a(e);var u=new S(function(o,a){i.ready().then(function(){void 0===t&&(t=null);var u=t,c=i._dbInfo;c.serializer.serialize(t,function(t,s){s?a(s):c.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){o(u)},function(e,t){a(t)})},function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void o(_.apply(i,[e,u,r,n-1]));a(t)}})})}).catch(a)});return o(u,r),u}function b(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}function g(e,t){e[t]=function(){var r=arguments;return e.ready().then(function(){return e[t].apply(e,r)})}}function m(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&($(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();"undefined"==typeof Promise&&e(3);var k,j,S=Promise,E="local-forage-detect-blob-support",O=Object.prototype.toString,I="readonly",A="readwrite",M={_driver:"asyncStorage",_initStorage:function(e){function t(){return S.resolve()}var r=this,n={db:null};if(e)for(var o in e)n[o]=e[o];j||(j={});var i=j[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},j[n.name]=i),i.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=d);for(var a=[],u=0;u<i.forages.length;u++){var c=i.forages[u];c!==r&&a.push(c._initReady().catch(t))}var f=i.forages.slice(0);return S.all(a).then(function(){return n.db=i.db,function(e){return s(e,!1)}(n)}).then(function(e){return n.db=e,function(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,o=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}(n,r._defaultConfig.version)?function(e){return s(e,!0)}(n):e}).then(function(e){n.db=i.db=e,r._dbInfo=n;for(var t=0;t<f.length;t++){var o=f[t];o!==r&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})},_support:function(){try{if(!x)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=new S(function(t,n){r.ready().then(function(){h(r._dbInfo,I,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),u=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;l(n)&&(n=f(n));var o=e(n,r.key,u++);void 0!==o?t(o):r.continue()}else t()},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return o(n,t),n},getItem:function(e,t){var r=this;e=a(e);var n=new S(function(t,n){r.ready().then(function(){h(r._dbInfo,I,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),l(e)&&(e=f(e)),t(e)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return o(n,t),n},setItem:function(e,t,r){var n=this;e=a(e);var i=new S(function(r,o){var i;n.ready().then(function(){return i=n._dbInfo,"[object Blob]"===O.call(t)?u(i.db).then(function(e){return e?t:function(e){return new S(function(t,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){var n=btoa(r.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:e.type})},n.readAsBinaryString(e)})}(t)}):t}).then(function(t){h(n._dbInfo,A,function(i,a){if(i)return o(i);try{var u=a.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var c=u.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),r(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return o(i,r),i},removeItem:function(e,t){var r=this;e=a(e);var n=new S(function(t,n){r.ready().then(function(){h(r._dbInfo,A,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){n(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return o(n,t),n},clear:function(e){var t=this,r=new S(function(e,r){t.ready().then(function(){h(t._dbInfo,A,function(n,o){if(n)return r(n);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return o(r,e),r},length:function(e){var t=this,r=new S(function(e,r){t.ready().then(function(){h(t._dbInfo,I,function(n,o){if(n)return r(n);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){r(i.error)}}catch(e){r(e)}})}).catch(r)});return o(r,e),r},key:function(e,t){var r=this,n=new S(function(t,n){e<0?t(null):r.ready().then(function(){h(r._dbInfo,I,function(o,i){if(o)return n(o);try{var a=!1,u=i.objectStore(r._dbInfo.storeName).openCursor();u.onsuccess=function(){var r=u.result;r?0===e?t(r.key):a?t(r.key):(a=!0,r.advance(e)):t(null)},u.onerror=function(){n(u.error)}}catch(e){n(e)}})}).catch(n)});return o(n,t),n},keys:function(e){var t=this,r=new S(function(e,r){t.ready().then(function(){h(t._dbInfo,I,function(n,o){if(n)return r(n);try{var i=o.objectStore(t._dbInfo.storeName).openCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){r(i.error)}}catch(e){r(e)}})}).catch(r)});return o(r,e),r}},L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P="~~local_forage_type~",T=/^~~local_forage_type~([^~]+)~/,N="__lfsc__:",R=N.length,D="arbf",C="blob",F="si08",B="ui08",U="uic8",q="si16",G="si32",z="ur16",W="ui32",K="fl32",V="fl64",J=R+D.length,H=Object.prototype.toString,Q={serialize:function(e,t){var r="";if(e&&(r=H.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===H.call(e.buffer))){var n,o=N;e instanceof ArrayBuffer?(n=e,o+=D):(n=e.buffer,"[object Int8Array]"===r?o+=F:"[object Uint8Array]"===r?o+=B:"[object Uint8ClampedArray]"===r?o+=U:"[object Int16Array]"===r?o+=q:"[object Uint16Array]"===r?o+=z:"[object Int32Array]"===r?o+=G:"[object Uint32Array]"===r?o+=W:"[object Float32Array]"===r?o+=K:"[object Float64Array]"===r?o+=V:t(new Error("Failed to get type for BinaryArray"))),t(o+y(n))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r=P+e.type+"~"+y(this.result);t(N+C+r)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e),t(null,r)}},deserialize:function(e){if(e.substring(0,R)!==N)return JSON.parse(e);var t,r=e.substring(J),o=e.substring(R,J);if(o===C&&T.test(r)){var i=r.match(T);t=i[1],r=r.substring(i[0].length)}var a=v(r);switch(o){case D:return a;case C:return n([a],{type:t});case F:return new Int8Array(a);case B:return new Uint8Array(a);case U:return new Uint8ClampedArray(a);case q:return new Int16Array(a);case z:return new Uint16Array(a);case G:return new Int32Array(a);case W:return new Uint32Array(a);case K:return new Float32Array(a);case V:return new Float64Array(a);default:throw new Error("Unkown type: "+o)}},stringToBuffer:v,bufferToString:y},Y={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]="string"!=typeof e[n]?e[n].toString():e[n];var o=new S(function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=r,e()},function(e,t){n(t)})})});return r.serializer=Q,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var r=this,n=new S(function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("SELECT * FROM "+o.storeName,[],function(r,n){for(var i=n.rows,a=i.length,u=0;u<a;u++){var c=i.item(u),s=c.value;if(s&&(s=o.serializer.deserialize(s)),void 0!==(s=e(s,c.key,u+1)))return void t(s)}t()},function(e,t){n(t)})})}).catch(n)});return o(n,t),n},getItem:function(e,t){var r=this;e=a(e);var n=new S(function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),t(n)},function(e,t){n(t)})})}).catch(n)});return o(n,t),n},setItem:function(e,t,r){return _.apply(this,[e,t,r,1])},removeItem:function(e,t){var r=this;e=a(e);var n=new S(function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){n(t)})})}).catch(n)});return o(n,t),n},clear:function(e){var t=this,r=new S(function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){t.executeSql("DELETE FROM "+n.storeName,[],function(){e()},function(e,t){r(t)})})}).catch(r)});return o(r,e),r},length:function(e){var t=this,r=new S(function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+n.storeName,[],function(t,r){var n=r.rows.item(0).c;e(n)},function(e,t){r(t)})})}).catch(r)});return o(r,e),r},key:function(e,t){var r=this,n=new S(function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,r){var n=r.rows.length?r.rows.item(0).key:null;t(n)},function(e,t){n(t)})})}).catch(n)});return o(n,t),n},keys:function(e){var t=this,r=new S(function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){t.executeSql("SELECT key FROM "+n.storeName,[],function(t,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);e(n)},function(e,t){r(t)})})}).catch(r)});return o(r,e),r}},X={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=t.name+"/",t.storeName!==this._defaultConfig.storeName&&(t.keyPrefix+=t.storeName+"/"),b()?(this._dbInfo=t,t.serializer=Q,S.resolve()):S.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&"function"==typeof localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=r.ready().then(function(){for(var t=r._dbInfo,n=t.keyPrefix,o=n.length,i=localStorage.length,a=1,u=0;u<i;u++){var c=localStorage.key(u);if(0===c.indexOf(n)){var s=localStorage.getItem(c);if(s&&(s=t.serializer.deserialize(s)),void 0!==(s=e(s,c.substring(o),a++)))return s}}});return o(n,t),n},getItem:function(e,t){var r=this;e=a(e);var n=r.ready().then(function(){var t=r._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n});return o(n,t),n},setItem:function(e,t,r){var n=this;e=a(e);var i=n.ready().then(function(){void 0===t&&(t=null);var r=t;return new S(function(o,i){var a=n._dbInfo;a.serializer.serialize(t,function(t,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+e,t),o(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return o(i,r),i},removeItem:function(e,t){var r=this;e=a(e);var n=r.ready().then(function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return o(n,t),n},clear:function(e){var t=this,r=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(e)&&localStorage.removeItem(n)}});return o(r,e),r},length:function(e){var t=this.keys().then(function(e){return e.length});return o(t,e),t},key:function(e,t){var r=this,n=r.ready().then(function(){var t,n=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t});return o(n,t),n},keys:function(e){var t=this,r=t.ready().then(function(){for(var e=t._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&n.push(i.substring(e.keyPrefix.length))}return n});return o(r,e),r}},$=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Z={},ee={},te={INDEXEDDB:M,WEBSQL:Y,LOCALSTORAGE:X},re=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],ne={description:"",driver:[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver].slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},oe=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r in te)if(te.hasOwnProperty(r)){var n=te[r],o=n._driver;this[r]=o,Z[o]||this.defineDriver(n)}this._defaultConfig=m({},ne),this._config=m({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":w(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var n=new S(function(t,r){try{var n=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(o);for(var i=re.concat("_initStorage"),a=0,u=i.length;a<u;a++){var c=i[a];if(!c||!e[c]||"function"!=typeof e[c])return void r(o)}var s=function(r){Z[n]&&console.info("Redefining LocalForage driver: "+n),Z[n]=e,ee[n]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(s,r):s(!!e._support):s(!0)}catch(e){r(e)}});return i(n,t,r),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var n=Z[e]?S.resolve(Z[e]):S.reject(new Error("Driver not found."));return i(n,t,r),n},e.prototype.getSerializer=function(e){var t=S.resolve(Q);return i(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return i(r,e,e),r},e.prototype.setDriver=function(e,t,r){function n(){a._config.driver=a.driver()}function o(e){return a._extend(e),n(),a._ready=a._initStorage(a._config),a._ready}var a=this;$(e)||(e=[e]);var u=this._getSupportedDrivers(e),c=null!==this._driverSet?this._driverSet.catch(function(){return S.resolve()}):S.resolve();return this._driverSet=c.then(function(){var e=u[0];return a._dbInfo=null,a._ready=null,a.getDriver(e).then(function(e){a._driver=e._driver,n(),a._wrapLibraryMethodsWithReady(),a._initDriver=function(e){return function(){function t(){for(;r<e.length;){var i=e[r];return r++,a._dbInfo=null,a._ready=null,a.getDriver(i).then(o).catch(t)}n();var u=new Error("No available storage method found.");return a._driverSet=S.reject(u),a._driverSet}var r=0;return t()}}(u)})}).catch(function(){n();var e=new Error("No available storage method found.");return a._driverSet=S.reject(e),a._driverSet}),i(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!ee[e]},e.prototype._extend=function(e){m(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=re.length;e<t;e++)g(this,re[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=oe},{3:3}]},{},[4])(4)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],98:[function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=e("./runtime"),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},{"./runtime":99}],99:[function(e,t,r){!function(e){"use strict";function r(e,t,r,i){var a=t&&t.prototype instanceof o?t:o,u=Object.create(a.prototype),c=new d(i||[]);return u._invoke=function(e,t,r){var o=j;return function(i,a){if(o===E)throw new Error("Generator is already running");if(o===O){if("throw"===i)throw a;return h()}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=s(u,r);if(c){if(c===I)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===j)throw o=O,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=E;var f=n(e,t,r);if("normal"===f.type){if(o=r.done?O:S,f.arg===I)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(o=O,r.method="throw",r.arg=f.arg)}}}(e,r,c),u}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function t(r,o,i,a){var u=n(e[r],e,o);if("throw"!==u.type){var c=u.arg,s=c.value;return s&&"object"==typeof s&&_.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(s).then(function(e){c.value=e,i(c)},a)}a(u.arg)}var r;this._invoke=function(e,n){function o(){return new Promise(function(r,o){t(e,n,r,o)})}return r=r?r.then(o,o):o()}}function s(e,t){var r=e.iterator[t.method];if(r===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,s(e,t),"throw"===t.method))return I;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var o=n(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,I;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,I):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,I)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function p(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(_.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=v,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:v,done:!0}}var v,y=Object.prototype,_=y.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},g=b.iterator||"@@iterator",m=b.asyncIterator||"@@asyncIterator",w=b.toStringTag||"@@toStringTag",x="object"==typeof t,k=e.regeneratorRuntime;if(k)x&&(t.exports=k);else{(k=e.regeneratorRuntime=x?t.exports:{}).wrap=r;var j="suspendedStart",S="suspendedYield",E="executing",O="completed",I={},A={};A[g]=function(){return this};var M=Object.getPrototypeOf,L=M&&M(M(p([])));L&&L!==y&&_.call(L,g)&&(A=L);var P=a.prototype=o.prototype=Object.create(A);i.prototype=P.constructor=a,a.constructor=i,a[w]=i.displayName="GeneratorFunction",k.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},k.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(P),e},k.awrap=function(e){return{__await:e}},u(c.prototype),c.prototype[m]=function(){return this},k.AsyncIterator=c,k.async=function(e,t,n,o){var i=new c(r(e,t,n,o));return k.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(P),P[w]="Generator",P[g]=function(){return this},P.toString=function(){return"[object Generator]"},k.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},k.values=p,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=v),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=_.call(o,"catchLoc"),u=_.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&_.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,I):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),I},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),I}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:p(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=v),I}}}}(function(){return this}()||Function("return this")())},{}]},{},[2])(2)});